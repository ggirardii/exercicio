<div class="text-center titulo">
  <h1>{{titulo}}</h1>
</div>
<div class="grid-container">
  <div class="form-inline mb-3">
    <div class="form-group col-3">
      <label class="mr-2" for="nomeId">Nome</label>
      <input type="text" class="form-control" id="nomeId" placeholder="Nome" [(ngModel)]="musicaAdicionar.nome">
    </div>
    <div class="form-group col-3">
      <label class="mr-2" for="autorId">Autor</label>
      <input type="text" class="form-control" id="autorId" placeholder="Autor" [(ngModel)]="musicaAdicionar.autor">
    </div>
    <div class="form-group col-3">
      <label class="mr-2" for="albumId">Álbum</label>
      <input type="text" class="form-control" id="albumId" placeholder="Álbum" [(ngModel)]="musicaAdicionar.album">
    </div>
    <button class="btn btn-success" (click)="adicionarMusica()">Adicionar</button>
  </div>
  <table class="table table-bordered table-striped">
    <thead>
      <tr class="text-center">
        <th>Música</th>
        <th>Autor</th>
        <th>Álbum</th>
        <th>Data Lançamento</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let musica of musicas" (click)="selecionarMusica(musica)"
        [class.musica-selecionada]="musicaSelecionada != undefined && musicaSelecionada.id === musica.id">
        <td>{{musica.nome}}</td>
        <td>{{musica.autor}}</td>
        <td *ngIf="musica.album !== '' else desconhecidoTemplate">{{musica.album | uppercase}}</td>
        <td *ngIf="musica.dataLancamento !== null else desconhecidoTemplate">
          {{musica.dataLancamento | date : 'dd/MM/yyyy'}}
        </td>
        <td class="text-center"><button class="btn btn-deletar" (click)="removerMusica(musica)">X</button></td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="musicaSelecionada !== undefined" class="form-inline mb-3">
    <div class="form-group col-3">
      <label class="mr-2" for="nomeId">Nome</label>
      <input type="text" class="form-control" id="nomeId" placeholder="Nome" [(ngModel)]="musicaSelecionada.nome">
    </div>
    <div class="form-group col-3">
      <label class="mr-2" for="autorId">Autor</label>
      <input type="text" class="form-control" id="autorId" placeholder="Autor" [(ngModel)]="musicaSelecionada.autor">
    </div>
    <div class="form-group col-3">
      <label class="mr-2" for="albumId">Álbum</label>
      <input type="text" class="form-control" id="albumId" placeholder="Álbum" [(ngModel)]="musicaSelecionada.album">
    </div>
    <button class="btn btn-success" (click)="finalizarEdicao()">Finalizar</button>
  </div>
</div>

<ng-template #desconhecidoTemplate>
  <td class="desconhecido">Desconhecido</td>
</ng-template>
